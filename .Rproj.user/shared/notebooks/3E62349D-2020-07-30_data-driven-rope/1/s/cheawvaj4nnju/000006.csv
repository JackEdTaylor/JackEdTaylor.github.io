"0","library(ggdist)"
"0","library(ggridges)"
"0","library(ggstance)"
"0",""
"0","Ms <- list(m1, m2, m3)"
"0","bsp_Ms <- list(bsp_m1, bsp_m2, bsp_m3)"
"0",""
"0","res <- map_df(1:3, function(data_nr) {"
"0","  # get the true data's posterior samples"
"0","  post_long <- posterior_samples(Ms[[data_nr]]) %>%"
"0","    pivot_longer(c(b_Intercept, b_grp), names_to=""param"", values_to=""value"") %>%"
"0","    mutate(src = ""True Posterior Samples"")"
"0",""
"0","  # get the posterior samples from all models fit to bootstrapped-permuted data"
"0","  bsp_post_long <- map_df(1:length(bsp_Ms[[data_nr]]), function(bsp_nr) {"
"0","    bsp_Ms[[data_nr]][[bsp_nr]] %>%"
"0","      posterior_samples() %>%"
"0","      select(b_Intercept, b_grp) %>%"
"0","      mutate(bsp_nr = bsp_nr)"
"0","  }) %>%"
"0","  pivot_longer(c(b_Intercept, b_grp), names_to=""param"", values_to=""value"") %>%"
"0","  mutate(src = ""Bootstrapped Permutation Posterior Samples"")"
"0","  "
"0","  # combine into one dataframe"
"0","  bind_rows(post_long, bsp_post_long) %>%"
"0","    mutate(df=sprintf(""Model fit to data%g"", data_nr))"
"0","})"
"0",""
"0","res %>%"
"0","  ggplot(aes(value, param, fill=src, colour=src)) +"
"0","  geom_density_ridges(alpha=0.2, colour=NA) +"
"0","  stat_pointinterval(.width=0.89, position=position_dodgev(height = 0.1)) +"
"0","  labs("
"0","    x = ""Value"", y = ""Parameter"", fill=""Source"", colour=""Source"","
"0","    title=""Bootstrap Permutation Posterior Samples ROPE"""
"0","  ) +"
"0","  facet_wrap(vars(df), scales=""free_x"") +"
"0","  theme(legend.position = ""bottom"")"
